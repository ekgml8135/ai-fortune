<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AI 2026 신년운세</title>
  <style>
    :root{
      --bg:#f9fafb; --card:#ffffff; --line:#e5e7eb; --muted:#6b7280;
      --accent:#ff7a00; --accentBg:#fff3e8; --text:#111827;
    }
    body{
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Noto Sans KR",Roboto,Helvetica,Arial,sans-serif;
      background:var(--bg);
      margin:0; padding:24px;
      color:var(--text);
    }
    .wrap{
      max-width: 960px;
      margin: 0 auto;
      background: var(--card);
      border-radius: 16px;
      padding: 24px;
      box-shadow: 0 10px 25px rgba(0,0,0,.06);
    }
    h1{ margin:0 0 6px; font-size:22px; }
    .sub{ margin:0 0 14px; color:var(--muted); font-size:13px; }

    .row{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
    .datepack{ display:flex; gap:8px; align-items:center; }
    .sep{ color:var(--muted); }

    input{
      padding:10px 12px; border-radius:10px; border:1px solid #d1d5db;
      font-size:14px; width:90px;
    }
    input:focus{
      border-color:rgba(255,122,0,.6);
      box-shadow:0 0 0 3px rgba(255,122,0,.15);
      outline:none;
    }
    .y{ width:120px; }

    button{
      padding:10px 16px; border-radius:10px; border:none;
      background:var(--accent); color:#fff; font-weight:900; cursor:pointer;
    }

    .result{ margin-top:20px; display:none; }
    .badge{
      display:inline-block; padding:6px 12px; border-radius:999px;
      background:var(--accentBg); color:var(--accent);
      font-size:12px; font-weight:900; margin-bottom:10px;
    }

    .card{
      border:1px solid var(--line); border-radius:14px;
      padding:14px; background:#fff; margin-bottom:12px;
    }
    h2{ margin:0 0 8px; font-size:16px; }
    h3{ margin:10px 0 4px; font-size:14px; }
    .lead{ font-size:14px; line-height:1.55; }

    .months{
      display:grid; grid-template-columns:1fr; gap:8px;
    }
    @media (min-width:860px){
      .months{ grid-template-columns:1fr 1fr; }
    }
    .month{
      border:1px solid var(--line); border-radius:12px;
      padding:10px 12px;
    }
    .m-title{
      display:flex; justify-content:space-between; font-weight:900;
      margin-bottom:6px; font-size:13px;
    }
    .pill{
      font-size:11px; background:var(--accentBg); color:var(--accent);
      padding:3px 8px; border-radius:999px;
    }
    .month p{ margin:0; font-size:13px; line-height:1.45; }
  </style>
</head>
<body>
<div class="wrap">
  <h1>AI로 보는 2026년 운세</h1>
  <p class="sub">생년월일을 입력하면 2026년 전체 운세가 나옵니다.</p>

  <div class="row">
    <div class="datepack">
      <input id="y" class="y" placeholder="YYYY" maxlength="4">
      <span class="sep">-</span>
      <input id="m" placeholder="MM" maxlength="2">
      <span class="sep">-</span>
      <input id="d" placeholder="DD" maxlength="2">
    </div>
    <button onclick="show()">운세 보기</button>
  </div>

  <div id="out" class="result"></div>
</div>

<script>
const MONTH_TAGS = [
  "정리","마무리","리셋","선택","수확","재정비",
  "상승","전환","관계","집중","정착","정렬"
];

const MONTH_POOLS = [
  "이번 달은 주변을 정리하면서 기회를 만드는 시기입니다.",
  "속도를 조절하면 흐름이 안정됩니다.",
  "작은 선택이 이후 방향을 결정합니다.",
  "관계에서 힌트가 들어옵니다.",
  "집중력이 성과를 좌우합니다.",
  "마무리가 다음 기회를 부릅니다.",
  "리듬을 조정하면 체감이 좋아집니다.",
  "새로운 시도를 가볍게 해도 좋습니다.",
  "기존 방식을 점검해보세요.",
  "결정은 단순할수록 좋습니다.",
  "에너지를 회복하는 데 집중하세요.",
  "정리된 상태가 오래 갑니다."
];

const AFTER_LINES = [
  "작게 시작해도 충분합니다.",
  "완벽보다 진행이 중요합니다.",
  "한 번 더 확인하면 편해집니다.",
  "욕심을 줄이면 결과가 좋아집니다.",
  "지금 페이스를 유지하세요."
];

function seed(y,m,d){
  let s = (y*10000+m*100+d)>>>0;
  s ^= s<<13; s ^= s>>>17; s ^= s<<5;
  return s>>>0;
}
function shuffle(arr, s){
  let a=[...arr];
  for(let i=a.length-1;i>0;i--){
    s = seed(s, i, a.length);
    const j = s % (i+1);
    [a[i],a[j]]=[a[j],a[i]];
  }
  return a;
}

function show(){
  const y=+document.getElementById("y").value;
  const m=+document.getElementById("m").value;
  const d=+document.getElementById("d").value;
  if(!y||!m||!d) return alert("생년월일을 입력해주세요");

  const s = seed(y,m,d);
  const texts = shuffle(MONTH_POOLS, s);
  const tags  = shuffle(MONTH_TAGS, s+7);
  const tails = shuffle(AFTER_LINES, s+13);

  let html = `<div class="badge">${y}년생</div>`;
  html += `<div class="card"><h2>월별 포인트</h2><div class="months">`;

  for(let i=0;i<12;i++){
    let text = texts[i];
    const tail = tails[i%tails.length];

    // ✅ undefined + 공백 방지 핵심
    if(tail){
      text = `${text} ${tail}`.trim();
    }

    html += `
      <div class="month">
        <div class="m-title">
          <span>${i+1}월</span>
          <span class="pill">${tags[i]}</span>
        </div>
        <p>${text}</p>
      </div>
    `;
  }

  html += `</div></div>`;
  const out = document.getElementById("out");
  out.innerHTML = html;
  out.style.display="block";
}
</script>
</body>
</html>
